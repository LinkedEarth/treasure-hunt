<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clue One: Meridian</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
</head>
<body>
    <div class="page-container clue-page">
        <div class="compass-decoration animate"></div>
        <div class="content-wrapper">
            <header class="clue-header">
                <div class="clue-number">Clue I</div>
                <h1 class="title-clue">The Data Explorer's Quest</h1>
            </header>

            <main class="main-content">
                <div class="clue-box">
                    <div class="clue-decoration">âˆ¿</div>
                    <div class="clue-text">
                        <p class="riddle-line">Journey to <a href="https://paleopresto.com" target="_blank">PaleoPresto</a> where ancient data flows,</p>
                        <p class="riddle-line">Select the Common Era, where modern time grows.</p>
                        <p class="riddle-line">Find the Last Millennium Reanalysis 2.1.0 visualizer true,</p>
                        <p class="riddle-line">Click New Orleans' grid point, let the data break through.</p>
                        <p class="riddle-line">Download the CSV treasure, examine what you've found,</p>
                        <p class="riddle-line">The answer to your quest lies within data's ground.</p>
                        <p class="riddle-question">In the year twelve-twenty-one, what anomaly did LMR's data gift?</p>
                    </div>
                    <div class="clue-decoration mirror">âˆ¿</div>
                </div>

                <div class="answer-section">
                    <div class="answer-input-container">
                        <input type="text" id="answer-input" class="answer-input" placeholder="Enter your answer...">
                        <button onclick="checkAnswer()" class="submit-button">Submit Answer</button>
                    </div>
                    <div id="feedback" class="feedback-message"></div>
                    <div id="next-clue" class="next-clue-reveal" style="display: none;">
                        <p class="success-message">ðŸŽ‰ Correct! Your next clue lies in your stripes.</p>
                        <a href="compass.html" class="nav-button primary">Continue to Next Clue â†’</a>
                    </div>
                </div>

                <script>
                function checkAnswer() {
                    const input = document.getElementById('answer-input').value.trim().toLowerCase();
                    const feedback = document.getElementById('feedback');
                    const nextClue = document.getElementById('next-clue');
                    
                    // Accept variations of the answer
                    const correctAnswers = ['-0.11', '-.11', '-0.11Â°c', '-0.11 degrees', '-0.11 Â°c', '-0.11 degrees Celsius'];

                    if (correctAnswers.includes(input)) {
                        feedback.textContent = '';
                        nextClue.style.display = 'block';
                        document.getElementById('answer-input').disabled = true;
                    } else if (input === '') {
                        feedback.textContent = 'Please enter an answer.';
                        feedback.className = 'feedback-message error';
                    } else {
                        feedback.textContent = 'Not quite right. Seek the temperature anomaly for the year 1221 in your CSV data...';
                        feedback.className = 'feedback-message error';
                    }
                }
                
                // Allow Enter key to submit
                document.getElementById('answer-input').addEventListener('keypress', function(event) {
                    if (event.key === 'Enter') {
                        checkAnswer();
                    }
                });
                </script>

                <div class="hint-section">
                    <details class="hint-toggle">
                        <summary>Need a hint?</summary>
                        <p class="hint-text">
                            Make sure you select the correct version of the dataset. Search through the CSV file for the row corresponding to year 1221. Look for the LMR mean column to find your answer.
                        </p>
                    </details>
                </div>
            </main>

            <footer class="page-footer">
                <p>One clue found. Two remain.</p>
            </footer>
        </div>
    </div>
</body>
</html>
