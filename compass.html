<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clue Two: Compass</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
</head>
<body>
    <div class="page-container clue-page">
        <div class="compass-decoration animate"></div>
        <div class="content-wrapper">
            <header class="clue-header">
                <div class="clue-number">Clue II</div>
                <h1 class="title-clue">The Stripes of Time</h1>
            </header>

            <main class="main-content">
                <div class="clue-box">
                    <div class="clue-decoration">âŠ•</div>
                    <div class="clue-text">
                        <p class="riddle-line">With <a href="https://pyleoclim-util.readthedocs.io/" target="_blank">Pyleoclim</a> in hand, your journey's not done,</p>
                        <p class="riddle-line">Let a Series be born, let the code be run.</p>
                        <p class="riddle-line">Create warming stripes to see time's flow,</p>
                        <p class="riddle-line">Watch colors shift as temperatures grow.</p>
                        <p class="riddle-line">Examine the hues as the centuries advance,</p>
                        <p class="riddle-line">The modern era's warmth shall enhance.</p>
                        <p class="riddle-question">What color dominates the stripes around the year 250 CE, revealing the climate's tale?</p>
                    </div>
                    <div class="clue-decoration mirror">âŠ•</div>
                </div>

                <div class="answer-section">
                    <div class="answer-input-container">
                        <input type="text" id="answer-input" class="answer-input" placeholder="Enter your answer...">
                        <button onclick="checkAnswer()" class="submit-button">Submit Answer</button>
                    </div>
                    <div id="feedback" class="feedback-message"></div>
                    <div id="next-clue" class="next-clue-reveal" style="display: none;">
                        <p class="success-message">ðŸŽ‰ Correct! The warmth reveals the path.</p>
                        <a href="anchor.html" class="nav-button primary">Continue to Final Clue â†’</a>
                    </div>
                </div>

                <script>
                function checkAnswer() {
                    const input = document.getElementById('answer-input').value.trim().toLowerCase();
                    const feedback = document.getElementById('feedback');
                    const nextClue = document.getElementById('next-clue');
                    
                    // Accept variations of the answer
                    const correctAnswers = ['red', 'red stripes', 'warm', 'red/warm', 'red (warm)', 'warm colors', 'red colors'];

                    if (correctAnswers.includes(input)) {
                        feedback.textContent = '';
                        nextClue.style.display = 'block';
                        document.getElementById('answer-input').disabled = true;
                    } else if (input === '') {
                        feedback.textContent = 'Please enter an answer.';
                        feedback.className = 'feedback-message error';
                    } else {
                        feedback.textContent = 'Not quite right. Look at the warming stripes around year 250 CE - what color indicates warmth?';
                        feedback.className = 'feedback-message error';
                    }
                }
                
                // Allow Enter key to submit
                document.getElementById('answer-input').addEventListener('keypress', function(event) {
                    if (event.key === 'Enter') {
                        checkAnswer();
                    }
                });
                </script>

                <div class="hint-section">
                    <details class="hint-toggle">
                        <summary>Need a hint?</summary>
                        <p class="hint-text">
                            Use Pyleoclim to load your CSV data into a Series object and create a stripes plot (check the documentation for the Series.stripes method). Look at the colors displayed around year 250 CE - warmer temperatures show up as red/warm colors.
                        </p>
                    </details>
                </div>
            </main>

            <footer class="page-footer">
                <p>Two clues found. One remains.</p>
            </footer>
        </div>
    </div>
</body>
</html>
